jQuery(document).ready(function(a){a("div#ws-menu-page-js-c-w").hide(),a(window).resize(tb_position=function(){var b=a(window).width()>720?720:a(window).width(),c=a(window).height(),d=a("body.admin-bar").length?28:0;a("#TB_window").css({width:b-50+"px",height:c-45-d+"px",top:25+d+"px","margin-top":0,"margin-left":"-"+parseInt((b-50)/2,10)+"px"}),a("#TB_ajaxContent").css({width:b-50+"px",height:c-75-d+"px",margin:0,padding:0})});var b=a("div.ws-menu-page-group");b.each(function(c){var d=a(this),e="<ins>+</ins>",f=d,g=a.trim(f.attr("title")),h=a('<div class="ws-menu-page-group-header">'+e+g+"</div>");h.css({"z-index":100-c}),h.insertBefore(f),f.hide(),h.click(function(){var b=a(this),c=a("ins",b),d=b.next();return"none"===d.css("display")?(b.addClass("open"),c.html("-"),d.show()):(b.removeClass("open"),c.html("+"),d.hide()),!1}),b.length>1&&0===c&&(a('<div class="ws-menu-page-groups-show">+</div>').insertBefore(h).click(function(){return a("div.ws-menu-page-group-header").each(function(){var b=a(this),c=a("ins",b),d=b.next();b.addClass("open"),c.html("-"),d.show()}),!1}),a('<div class="ws-menu-page-groups-hide">-</div>').insertBefore(h).click(function(){return a("div.ws-menu-page-group-header").each(function(){var b=a(this),c=a("ins",b),d=b.next();b.removeClass("open"),c.html("+"),d.hide()}),!1})),"open"===f.attr("default-state")&&h.trigger("click")}),b.length>1&&(a("div.ws-menu-page-group-header:first").css({"margin-right":"140px"}),a("div.ws-menu-page-group:first").css({"margin-right":"145px"})),a("div.ws-menu-page-r-group-header").click(function(){var b=a(this),c=b.next("div.ws-menu-page-r-group");return"none"===c.css("display")?(a("ins",b).html("-"),b.addClass("open"),c.show()):(a("ins",b).html("+"),b.removeClass("open"),c.hide()),!1}),a("div.ws-menu-page-group-header:first, div.ws-menu-page-r-group-header:first").css({"margin-top":"0"}),a("div.ws-menu-page-group > div.ws-menu-page-section:first-child > h3").css({"margin-top":"0"}),a("div.ws-menu-page-readme > div.readme > div.section:last-child").css({"border-bottom-width":"0"}),a("input.ws-menu-page-media-btn").filter(function(){return a(this).attr("rel")?!0:!1}).click(function(){var b=a(this);return window.send_to_editor=function(c){var d,e,f=a.trim(b.attr("rel"));if(f&&(d=a("input#"+f)).length>0){var g=d.css("background-color"),h=a.trim(a(c).attr("src"));return h=h?h:a.trim(a("img",c).attr("src")),d.val(h),d.css({"background-color":"#FFFFCC"}),setTimeout(function(){d.css({"background-color":g})},2e3),tb_remove(),void 0}if(f&&(e=a("textarea#"+f)).length>0){var g=e.css("background-color"),h=a.trim(a(c).attr("src"));return h=h?h:a.trim(a("img",c).attr("src")),e.val(a.trim(e.val())+"\n"+h),e.css({"background-color":"#FFFFCC"}),setTimeout(function(){e.css({"background-color":g})},2e3),tb_remove(),void 0}},tb_show("","./media-upload.php?type=image&TB_iframe=true"),!1}),a("form#ws-updates-form").submit(function(){var b="";return a.trim(a("input#ws-updates-fname").val())||(b+="First Name missing, please try again.\n\n"),a.trim(a("input#ws-updates-lname").val())||(b+="Last Name missing, please try again.\n\n"),a.trim(a("input#ws-updates-email").val())?a("input#ws-updates-email").val().match(/^([a-z_~0-9\+\-]+)(((\.?)([a-z_~0-9\+\-]+))*)(@)([a-z0-9]+)(((-*)([a-z0-9]+))*)(((\.)([a-z0-9]+)(((-*)([a-z0-9]+))*))*)(\.)([a-z]{2,6})$/i)||(b+="Invalid email address, please try again.\n\n"):b+="Email missing, please try again.\n\n",(b=a.trim(b))?(alert("— Oops, you missed something: —\n\n"+b),!1):!0}),a("#ws-plugin--optimizemember-new-options-form").submit(function(a){return a.preventDefault(),jQuery.post(ajaxurl,jQuery(this).serialize(),function(a){"undefined"!=typeof a.error?alert(a.error):jQuery("#msg, .save_info").html(a).show().delay(2e3).fadeOut()}),!1}),a(".ws_plugin__optimizemember_level_provider").change(function(){var a=jQuery(this).val(),b=jQuery(this).attr("data-level"),c=jQuery("#ws_plugin__optimizemember_level"+b+"_list"),d=jQuery("#ws_plugin__optimizemember_level"+b+"_list_label");"infusionsoft"===a?d.html("Follow up sequence:"):d.html("List:"),"undefined"==typeof OptimizePress.lists&&(OptimizePress.lists={}),0==a?(c.empty(),c.append('<option value="0">Select provider first</option>')):"undefined"!=typeof OptimizePress.lists[a]?(c.empty(),c.append(OptimizePress.lists[a])):(c.after('<img class="op-bsw-waiting" src="images/wpspin_light.gif" alt="loading" style="position:relative;display:block;top:4px">'),jQuery.post(OptimizePress.ajaxurl,{action:OptimizePress.SN+"-email-provider-items",provider:a,special:1},function(b){var d=[];jQuery.each(b.lists,function(a,b){d.push('<option value="'+a+'">'+b.name+"</option>")}),OptimizePress.lists[a]=d,c.empty().append(d),c.next().remove()},"json"))})});